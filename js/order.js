window.onbeforeunload = function (e) {
    e = e || window.event;

    // For IE and Firefox prior to version 4
    if (e) {
        e.returnValue = 'Sure?';
    }

    // For Safari
    return 'Sure?';
};






var gov =   [

"اسوان/مدينة أسوان"
,"اسوان/ابو الريش"
,"اسوان/ابو سمبل"
,"اسوان/ادفو"
,"اسوان/البصيلية"
,"اسوان/الرديسية"
,"اسوان/السباعية"
,"اسوان/دراو"
,"اسوان/صحارى"
,"اسوان/كلابشة"
,"اسوان/كوم امبو"
,"اسوان/نصر النوبة"
,"اسيوط/مدينة أسيوط"
,"اسيوط/أبنوب"
,"اسيوط/أبو تيج"
,"اسيوط/أسيوط الجديدة"
,"اسيوط/البدارى"
,"اسيوط/الغنايم"
,"اسيوط/الفتح"
,"اسيوط/القوصيه"
,"اسيوط/ديروط"
,"اسيوط/ساحل سليم"
,"اسيوط/صدفا"
,"اسيوط/منفلوط"
,"الاسكندرية/أبو قير"
,"الاسكندرية/الإبراهيمية - الاسكندرية"
,"الاسكندرية/الجمرك"
,"الاسكندرية/الحضرة"
,"الاسكندرية/الدخيلة"
,"الاسكندرية/السيوف"
,"الاسكندرية/الظاهرية"
,"الاسكندرية/العامرية"
,"الاسكندرية/العصافرة"
,"الاسكندرية/العوايد"
,"الاسكندرية/المعمورة"
,"الاسكندرية/المنتزه"
,"الاسكندرية/المندرة"
,"الاسكندرية/المنشية"
,"الاسكندرية/النخيل"
,"الاسكندرية/النزهة - الاسكندرية"
,"الاسكندرية/الورديان"
,"الاسكندرية/باكوس"
,"الاسكندرية/بولكلي"
,"الاسكندرية/جليم"
,"الاسكندرية/سابا باشا"
,"الاسكندرية/سان ستيفانو"
,"الاسكندرية/سبورتنج"
,"الاسكندرية/ستانلي"
,"الاسكندرية/سموحة"
,"الاسكندرية/سيدي بشر"
,"الاسكندرية/سيدي جابر"
,"الاسكندرية/شدس"
,"الاسكندرية/عجمي"
,"الاسكندرية/فلمنج"
,"الاسكندرية/فيكتوريا"
,"الاسكندرية/كامب شيزار"
,"الاسكندرية/كفر عبدو"
,"الاسكندرية/كليوباترا"
,"الاسكندرية/لوران"
,"الاسكندرية/محرّم بيك"
,"الاسكندرية/محطة الرمل"
,"الاسكندرية/ميامي"
,"الاسكندرية/برج العرب"
,"الاسماعيلية/مدينة الإسماعيلية"
,"الاسماعيلية/أبوصوير"
,"الاسماعيلية/التل الكبير"
,"الاسماعيلية/القصاصين"
,"الاسماعيلية/القنطرة شرق"
,"الاسماعيلية/القنطرة غرب"
,"الاسماعيلية/فايد"
,"الاقصر/مدينة الأقصر"
,"الاقصر/أرمنت"
,"الاقصر/إسنا"
,"الاقصر/البياضية"
,"الاقصر/الزينية"
,"الاقصر/الطود"
,"الاقصر/القرنه"
,"البحر الاحمر/الغردقة"
,"البحر الاحمر/الجونة"
,"البحر الاحمر/القصير"
,"البحر الاحمر/رأس غارب"
,"البحر الاحمر/سفاجا"
,"البحر الاحمر/سهل حشيش"
,"البحر الاحمر/شلاتين"
,"البحر الاحمر/مرسى علم"
,"البحيرة/دمنهور"
,"البحيرة/أبو المطامير"
,"البحيرة/أبو حمص"
,"البحيرة/إدكو"
,"البحيرة/الدلنجات"
,"البحيرة/الرحمانية"
,"البحيرة/المحمودية"
,"البحيرة/النوبارية الجديدة"
,"البحيرة/ايتاي البارود"
,"البحيرة/بدر"
,"البحيرة/حوش عيسى"
,"البحيرة/رشيد"
,"البحيرة/شبراخيت"
,"البحيرة/كفر الدوار"
,"البحيرة/كوم حمادة"
,"البحيرة/وادي النطرون"
,"الجيزة/أوسيم"
,"الجيزة/إمبابة"
,"الجيزة/الدقى"
,"الجيزة/الرماية"
,"الجيزة/الصحفيين"
,"الجيزة/العجوزة"
,"الجيزة/العزيزية"
,"الجيزة/العمرانية"
,"الجيزة/القرية الفرعونية"
,"الجيزة/الكيت كات"
,"الجيزة/المنيب"
,"الجيزة/المهندسين"
,"الجيزة/الهرم"
,"الجيزة/الوراق"
,"الجيزة/بشتيل"
,"الجيزة/بولاق الدكرور"
,"الجيزة/ترسا"
,"الجيزة/حدائق الاهرام"
,"الجيزة/حى الجيزة"
,"الجيزة/دهشور"
,"الجيزة/ساقية مكى"
,"الجيزة/سقارة"
,"الجيزة/صفط"
,"الجيزة/فيصل - الجيزة"
,"الجيزة/كرداسة"
,"الجيزة/كفر طهرمس"
,"الجيزة/مريوطية"
,"الجيزة/ميت عقبة"
,"الجيزة/ناهيا"
,"الجيزة/اكتوبر - المنطقة الصناعية"
,"الجيزة/اكتوبر-  الاحياء"
,"الجيزة/أكتوبر - منطقة الحصري"
,"الجيزة/اكتوبر - المتميز والسياحية"
,"الجيزة/اكتوبر - مدينة الشيخ زايد"
,"الجيزة/الشيخ زايد- الاحياء"
,"الجيزة/مدينة الخمايل"
,"الجيزة/طريق الواحات"
,"الجيزة/مدينة الفردوس"
,"الجيزة/دريم لاند"
,"الجيزة/حى الاشجار"
,"الجيزة/مدينة الانتاج الاعلامى"
,"الجيزة/هرم سيتى"
,"الجيزة/القرية الذكية"
,"الجيزة/ابورواش الصناعية"
,"الجيزة/الطريق الصحراوي الى ال كيلو 28"
,"الجيزة/البدرشين"
,"الجيزة/البراجيل"
,"الجيزة/الحوامدية"
,"الجيزة/الصف"
,"الجيزة/المنصورية"
,"الجيزة/جزيرة الدهب وكولدير"
,"الدقهلية/المنصورة"
,"الدقهلية/أجا"
,"الدقهلية/أخطاب"
,"الدقهلية/الجمالية"
,"الدقهلية/السنبلاوين"
,"الدقهلية/المطرية - الدقهلية"
,"الدقهلية/المنزلة"
,"الدقهلية/بلقاس"
,"الدقهلية/بني عبيد"
,"الدقهلية/تمى الامديد"
,"الدقهلية/جمصه"
,"الدقهلية/دكرنس"
,"الدقهلية/شربين"
,"الدقهلية/طلخا"
,"الدقهلية/منية النصر"
,"الدقهلية/ميت سلسيل"
,"الدقهلية/ميت غمر"
,"الدقهلية/نبروه"
,"السويس/حي السويس"
,"السويس/فيصل - السويس"
,"السويس/العين السخنة"
,"السويس/حى الجناين"
,"السويس/حي الأربعين"
,"السويس/حي عتاقة"
,"الشرقية/العاشر من رمضان"
,"الشرقية/الزقازيق"
,"الشرقية/أبو حماد"
,"الشرقية/أبو كبير"
,"الشرقية/أولاد صقر"
,"الشرقية/الإبراهيمية - الشرقية"
,"الشرقية/الحسينية"
,"الشرقية/الصالحية الجديدة"
,"الشرقية/بلبيس"
,"الشرقية/ديرب نجم"
,"الشرقية/فاقوس"
,"الشرقية/كفر صقر"
,"الشرقية/مشتول السوق"
,"الشرقية/منيا القمح"
,"الشرقية/ههيا"
,"الغربية/طنطا"
,"الغربية/المحلة الكبرى"
,"الغربية/بسيون"
,"الغربية/السنطة"
,"الغربية/زفتى"
,"الغربية/سمنود"
,"الغربية/قطور"
,"الغربية/كفر الزيات"
,"الفيوم/مدينة الفيوم"
,"الفيوم/أطسا"
,"الفيوم/إبشواي"
,"الفيوم/الفيوم الجديدة"
,"الفيوم/سنورس"
,"الفيوم/طامية"
,"الفيوم/يوسف الصديق"
,"القاهرة/الحلمية"
,"القاهرة/الزمالك"
,"القاهرة/الزيتون"
,"القاهرة/الساحل"
,"القاهرة/السيدة زينب"
,"القاهرة/العباسية"
,"القاهرة/المرج"
,"القاهرة/المطرية - القاهرة"
,"القاهرة/المعادي"
,"القاهرة/المقطم"
,"القاهرة/المنيل"
,"القاهرة/النزهة - القاهرة"
,"القاهرة/الوايلي"
,"القاهرة/حدائق القبة"
,"القاهرة/دار السلام"
,"القاهرة/زهراء المعادى"
,"القاهرة/شبرا"
,"القاهرة/شيراتون"
,"القاهرة/عزبة النخل"
,"القاهرة/عين شمس"
,"القاهرة/قصر النيل"
,"القاهرة/مدينة السلام"
,"القاهرة/مدينة نصر"
,"القاهرة/مصر الجديدة"
,"القاهرة/وسط البلد"
,"القاهرة/القاهرة الجديدة - التجمع الأول"
,"القاهرة/القاهرة الجديدة - التجمع الثالث"
,"القاهرة/القاهرة الجديدة - التجمع الخامس"
,"القاهرة/القاهرة الجديدة - مدينة الرحاب"
,"القاهرة/حدائق حلوان"
,"القاهرة/حلوان"
,"القاهرة/مدينة,15 مايو"
,"القاهرة/مدينة الشروق"
,"القاهرة/مدينة بدر"
,"القاهرة/مدينتي"
,"القاهرة/العاصمة الإدارية الجديدة"
,"القليوبية/بهتيم"
,"القليوبية/شبرا الخيمة"
,"القليوبية/مدينة العبور"
,"القليوبية/بنها"
,"القليوبية/الخانكة"
,"القليوبية/ابوزعبل"
,"القليوبية/الخصوص"
,"القليوبية/القناطر الخيرية"
,"القليوبية/شبين القناطر"
,"القليوبية/طوخ"
,"القليوبية/قليوب"
,"القليوبية/قها"
,"القليوبية/كفر شكر"
,"المنوفية/أشمون"
,"المنوفية/الباجور"
,"المنوفية/الشهداء"
,"المنوفية/بركة السبع"
,"المنوفية/تلا"
,"المنوفية/سرس الليان"
,"المنوفية/شبين الكوم"
,"المنوفية/قويسنا"
,"المنوفية/منوف"
,"المنوفية/ميت العز"
,"المنوفية/السادات"
,"المنيا/مدينة المنيا"
,"المنيا/أبو قرقاص"
,"المنيا/العدوة"
,"المنيا/المنيا الجديدة"
,"المنيا/بني مزار"
,"المنيا/دير مواس"
,"المنيا/سمالوط"
,"المنيا/مطاي"
,"المنيا/مغاغة"
,"المنيا/ملوي"
,"بني سويف/مدينة بني سويف"
,"بني سويف/إهناسيا"
,"بني سويف/الفشن"
,"بني سويف/الواسطى"
,"بني سويف/ببا"
,"بني سويف/بني سويف الجديدة"
,"بني سويف/سمسطا"
,"بني سويف/ناصر"
,"بورسعيد/حي الجنوب"
,"بورسعيد/حي الزهور"
,"بورسعيد/حي الشرق"
,"بورسعيد/حي الضواحي"
,"بورسعيد/حي العرب"
,"بورسعيد/حي المناخ"
,"بورسعيد/مدينة بورفؤاد"
,"جنوب سيناء/شرم الشيخ"
,"جنوب سيناء/أبو رديس"
,"جنوب سيناء/أبو زنيمة"
,"جنوب سيناء/دهب"
,"جنوب سيناء/راس سدر"
,"جنوب سيناء/سانت كاترين"
,"جنوب سيناء/طابا"
,"جنوب سيناء/طور سيناء"
,"جنوب سيناء/نويبع"
,"دمياط/مدينة دمياط"
,"دمياط/الروضة"
,"دمياط/الزرقا"
,"دمياط/السرو"
,"دمياط/دمياط الجديدة"
,"دمياط/رأس البر"
,"دمياط/عزبة البرج"
,"دمياط/فارسكور"
,"دمياط/كفر البطيخ"
,"دمياط/كفر سعد"
,"دمياط/ميت أبوغالب"
,"سوهاج/مدينة سوهاج"

,"سوهاج/أخميم"
,"سوهاج/البلينا"
,"سوهاج/العسيرات"
,"سوهاج/المراغة"
,"سوهاج/المنشاة"
,"سوهاج/جرجا"
,"سوهاج/جهينة"
,"سوهاج/دارالسلام - سوهاج"
,"سوهاج/ساقلتة"
,"سوهاج/طما"
,"سوهاج/طهطا"
,"قنا/مدينة قنا"
,"قنا/أبو تشت"
,"قنا/الوقف"
,"قنا/شنا"
,"قنا/فرشوط"
,"قنا/قفط"
,"قنا/قوص"
,"قنا/نجع حمادي"
,"قنا/نقادة"
,"كفر الشيخ/مدينة كفر الشيخ"
,"كفر الشيخ/البرلس"
,"كفر الشيخ/الحامول"
,"كفر الشيخ/الرياض"
,"كفر الشيخ/بلطيم"
,"كفر الشيخ/بيلا"
,"كفر الشيخ/دسوق"
,"كفر الشيخ/سيدى سالم"
,"كفر الشيخ/فوه"
,"كفر الشيخ/قلين"
,"كفر الشيخ/مطوبس"
,"مطروح/مرسى مطروح"
,"مطروح/الحمام"
,"مطروح/الساحل الشمالي"
,"مطروح/السلوم"
,"مطروح/الضبعة"
,"مطروح/العلمين"
,"مطروح/النجيلة"
,"مطروح/براني"
,"مطروح/سيوة"
,"مطروح/ماريناالعلمين"
  ];

var zone1 = [
		"أوسيم"
, "إمبابة"
, "الدقى"
, "الرماية"
, "الصحفيين"
, "العجوزة"
, "العزيزية"
, "العمرانية"
, "القرية الفرعونية"
, "الكيت كات"
, "المنيب"
, "المهندسين"
, "الهرم"
, "الوراق"
, "بشتيل"
, "بولاق الدكرور"
, "ترسا"
, "حدائق الاهرام"
, "حى الجيزة"
, "دهشور"
, "ساقية مكى"
, "سقارة"
, "صفط"
, "فيصل - الجيزة"
, "كرداسة"
, "كفر طهرمس"
, "مريوطية"
, "ميت عقبة"
, "ناهيا"
, "الحلمية"
, "الزمالك"
, "الزيتون"
, "الساحل"
, "السيدة زينب"
, "العباسية"
, "المرج"
, "المطرية - القاهرة"
, "المعادي"
, "المقطم"
, "المنيل"
, "النزهة - القاهرة"
, "الوايلي"
, "حدائق القبة"
, "دار السلام"
, "زهراء المعادى"
, "شبرا"
, "شيراتون"
, "عزبة النخل"
, "عين شمس"
, "قصر النيل"
, "مدينة السلام"
, "مدينة نصر"
, "مصر الجديدة"
, "وسط البلد"
	
	
];

var zone2 = [
	"اكتوبر - المنطقة الصناعية"
, "اكتوبر-  الاحياء"
, "أكتوبر - منطقة الحصري"
, "اكتوبر - المتميز والسياحية"
, "اكتوبر - مدينة الشيخ زايد"
, "الشيخ زايد- الاحياء"
, "مدينة الخمايل"
, "طريق الواحات"
, "مدينة الفردوس"
, "دريم لاند"
, "حى الاشجار"
, "مدينة الانتاج الاعلامى"
, "هرم سيتى"
, "القرية الذكية"
, "ابورواش الصناعية"
, "الطريق الصحراوي الى ال كيلو 28"
, "البدرشين"
, "البراجيل"
, "الحوامدية"
, "الصف"
, "المنصورية"
, "جزيرة الدهب وكولدير"
, "العاشر من رمضان"
, "القاهرة الجديدة - التجمع الأول"
, "القاهرة الجديدة - التجمع الثالث"
, "القاهرة الجديدة - التجمع الخامس"
, "القاهرة الجديدة - مدينة الرحاب"
, "حدائق حلوان"
, "حلوان"
, "مدينة   15 مايو"
, "مدينة الشروق"
, "مدينة بدر"
, "مدينتي"
, "بهتيم"
, "شبرا الخيمة"
, "مدينة العبور"	
	
	
];

var zone3 = [
	"أبو قير"
, "الإبراهيمية - الاسكندرية"
, "الجمرك"
, "الحضرة"
, "الدخيلة"
, "السيوف"
, "الظاهرية"
, "العامرية"
, "العصافرة"
, "العوايد"
, "المعمورة"
, "المنتزه"
, "المندرة"
, "المنشية"
, "النخيل"
, "النزهة - الاسكندرية"
, "الورديان"
, "باكوس"
, "بولكلي"
, "جليم"
, "سابا باشا"
, "سان ستيفانو"
, "سبورتنج"
, "ستانلي"
, "سموحة"
, "سيدي بشر"
, "سيدي جابر"
, "شدس"
, "عجمي"
, "فلمنج"
, "فيكتوريا"
, "كامب شيزار"
, "كفر عبدو"
, "كليوباترا"
, "لوران"
, "محرّم بيك"
, "محطة الرمل"
, "ميامي"

];

var zone4 = [
"مدينة الإسماعيلية"
, "أبوصوير"
, "التل الكبير"
, "القصاصين"
, "القنطرة شرق"
, "القنطرة غرب"
, "فايد"
, "حي السويس"
, "فيصل - السويس"
, "العين السخنة"
, "حى الجناين"
, "حي الأربعين"
, "حي الجنوب"
, "حي الزهور"
, "حي الشرق"
, "حي الضواحي"
, "حي العرب"
, "حي المناخ"
, "مدينة بورفؤاد"

];

var zone5 = [
"دمنهور"
, "أبو المطامير"
, "أبو حمص"
, "إدكو"
, "الدلنجات"
, "الرحمانية"
, "المحمودية"
, "النوبارية الجديدة"
, "ايتاي البارود"
, "بدر"
, "حوش عيسى"
, "رشيد"
, "شبراخيت"
, "كفر الدوار"
, "كوم حمادة"
, "وادي النطرون"
, "المنصورة"
, "أجا"
, "أخطاب"
, "الجمالية"
, "السنبلاوين"
, "المطرية - الدقهلية"
, "المنزلة"
, "بلقاس"
, "بني عبيد"
, "تمى الامديد"
, "جمصه"
, "دكرنس"
, "شربين"
, "طلخا"
, "منية النصر"
, "ميت سلسيل"
, "ميت غمر"
, "نبروه"
, "الزقازيق"
, "أبو حماد"
, "أبو كبير"
, "أولاد صقر"
, "الإبراهيمية - الشرقية"
, "الحسينية"
, "الصالحية الجديدة"
, "بلبيس"
, "ديرب نجم"
, "فاقوس"
, "كفر صقر"
, "مشتول السوق"
, "منيا القمح"
, "ههيا"
, "طنطا"
, "المحلة الكبرى"
, "بسيون"
, "السنطة"
, "زفتى"
, "سمنود"
, "قطور"
, "كفر الزيات"
, "العاصمة الإدارية الجديدة"
, "بنها"
, "الخانكة"
, "ابوزعبل"
, "الخصوص"
, "القناطر الخيرية"
, "شبين القناطر"
, "طوخ"
, "قليوب"
, "قها"
, "كفر شكر"
, "أشمون"
, "الباجور"
, "الشهداء"
, "بركة السبع"
, "تلا"
, "سرس الليان"
, "شبين الكوم"
, "قويسنا"
, "منوف"
, "ميت العز"
, "السادات"
, "مدينة دمياط"
, "الروضة"
, "الزرقا"
, "السرو"
, "دمياط الجديدة"
, "رأس البر"
, "عزبة البرج"
, "فارسكور"
, "كفر البطيخ"
, "كفر سعد"
, "ميت أبوغالب"
, "مدينة كفر الشيخ"
, "البرلس"
, "الحامول"
, "الرياض"
, "بلطيم"
, "بيلا"
, "دسوق"
, "سيدى سالم"
, "فوه"
, "قلين"
, "مطوبس"
];

var zone6 = [
"مدينة أسيوط"
, "أبنوب"
, "أبو تيج"
, "أسيوط الجديدة"
, "البدارى"
, "الغنايم"
, "الفتح"
, "القوصيه"
, "ديروط"
, "ساحل سليم"
, "صدفا"
, "منفلوط"
, "مدينة الفيوم"
, "أطسا"
, "إبشواي"
, "الفيوم الجديدة"
, "سنورس"
, "طامية"
, "يوسف الصديق"
, "مدينة المنيا"
, "أبو قرقاص"
, "العدوة"
, "المنيا الجديدة"
, "بني مزار"
, "دير مواس"
, "سمالوط"
, "مطاي"
, "مغاغة"
, "ملوي"
, "مدينة بني سويف"
, "إهناسيا"
, "الفشن"
, "الواسطى"
, "ببا"
, "بني سويف الجديدة"
, "سمسطا"
, "ناصر"
, "مدينة سوهاج"
, "أخميم"
, "البلينا"
, "العسيرات"
, "المراغة"
, "المنشاة"
, "جرجا"
, "جهينة"
, "دارالسلام - سوهاج"
, "ساقلتة"
, "طما"
, "طهطا"	
	
	
];

var zone7 = [
 "مدينة أسوان"
,"ابو الريش"
,"ابو سمبل"
,"ادفو"
,"البصيلية"
,"الرديسية"
,"السباعية"
,"دراو"
,"صحارى"
,"كلابشة"
,"كوم امبو"
,"نصر النوبة"
,"برج العرب"
,"مدينة الأقصر"
,"أرمنت"
,"إسنا"
,"البياضية"
,"الزينية"
,"الطود"
,"القرنه"
,"الغردقة"
,"الجونة"
,"القصير"
,"رأس غارب"
,"سفاجا"
,"سهل حشيش"
,"شلاتين"
,"مرسى علم"
,"حي عتاقة"
,"شرم الشيخ"
,"أبو رديس"
,"أبو زنيمة"
,"دهب"
,"راس سدر"
,"سانت كاترين"
,"طابا"
,"طور سيناء"
,"نويبع"
,"مدينة قنا"
,"أبو تشت"
,"الوقف"
,"شنا"
,"فرشوط"
,"قفط"
,"قوص"
,"نجع حمادي"
,"نقادة"
,"مرسى مطروح"
,"الحمام"
,"الساحل الشمالي"
,"السلوم"
,"الضبعة"
,"العلمين"
,"النجيلة"
,"براني"
,"سيوة"
,"مارينا العلمين"
];




const ad =[[]];
const arr = [] ;
var Qata =[[]];
var selectedRow = null;
var indexQ = 0;
var indexing = 0;
var locations = {};
var locationindex = 0;
var titles = {};
var titlesindex = 0;
var locinfo = {};
var locinfoindex = 0;
var kys = {};
var endoftheworld = 0;

function onFormSubmit() {
    if (validate()&&validate2()&&validate3()&&validate5()&&validate6()&&validate7()&&validate9()&&validate10	()&&validate11()) {
        var formData = readFormData();
        if (selectedRow == null){
			Qata[indexQ] = formData;
			console.log(Qata[indexQ]);
			
			
			indexQ++;
			console.log(indexQ);
	document.getElementById('counter').innerHTML =indexQ;
			
			insertNewRecord(formData);
		}
            	
        else
            updateRecord(formData);
        resetForm();
    }
}

function readFormData() {
    var formData = {};
    formData["fullName"] = document.getElementById("fullName").value;
    formData["Pnumber"] = document.getElementById("Pnumber").value;
    formData["mo7fza"] = document.getElementById('mo7fza').value;
	formData["mantka"] = getmanteka(document.getElementById('mo7fza').value);
	formData["adress"] = document.getElementById("adress").value;
	formData["onotes"] = document.getElementById("onotes").value;
	formData["wzn"] = document.getElementById("wzn").value;
	
	formData["mokdm"] = document.getElementById("mokdm").value;
	formData["date"] = document.getElementById("date").value;
	formData["date2"] = document.getElementById("date2").value;
	formData["adress2"] = document.getElementById("adress2").value;
	console.log("21212");
	formData["shan"] =test(formData["mantka"],formData["adress2"],formData["wzn"],formData["mokdm"] );
	
	
    return formData;
}
function test( mntka , adress , wezn , shann ){
	var mnkhiy=0;
	console.log("test");
	var bool = false;
	for( var i = 0 ; i< arr.length ; i++){
		if(adress==arr[i]){
			mnkhiy=i;
			bool =true;
		}
	}
	console.log(locinfo[mnkhiy].state);
	if (bool==true){
	return calculateMony(mntka,locinfo[mnkhiy].state,wezn,shann);
		
	}
	
}



function insertNewRecord(data) {
	
	
	
	
    var table = document.getElementById("employeeList").getElementsByTagName('tbody')[0];
    var newRow = table.insertRow(table.length);
    cell1 = newRow.insertCell(0);
    cell1.innerHTML = data.fullName;
    cell2 = newRow.insertCell(1);
    cell2.innerHTML = data.Pnumber;
    cell3 = newRow.insertCell(2);
    cell3.innerHTML = data.mo7fza;
	
	cell5 = newRow.insertCell(3);
    cell5.innerHTML = data.adress;
	
	cell6 = newRow.insertCell(4);
    cell6.innerHTML = data.mokdm;
	cell7 = newRow.insertCell(5);
    cell7.innerHTML = data.onotes;
	cell8 = newRow.insertCell(6);
    cell8.innerHTML = data.wzn;
	cell10 = newRow.insertCell(7);
    cell10.innerHTML = data.date;
	cell11 = newRow.insertCell(8);
    cell11.innerHTML = data.date2;
	cell12 = newRow.insertCell(9);
    cell12.innerHTML = data.shan;
    cell12 = newRow.insertCell(10);
    cell12.innerHTML = `<a onClick="onEdit(this)"><i class ="fas fa-edit btnedit"></i></a>
                       <a onClick="onDelete(this)"><i class ="fas fa-trash-alt btndelete"></i></a>`;
	
	
}


function insertNewRecord2(data) {
	
	
	
	
    var table = document.getElementById("employeeList").getElementsByTagName('tbody')[0];
    var newRow = table.insertRow(table.length);
    cell1 = newRow.insertCell(0);
    cell1.innerHTML = data.fullName;
    cell2 = newRow.insertCell(1);
    cell2.innerHTML = data.Pnumber;
    cell3 = newRow.insertCell(2);
    cell3.innerHTML = '<input type="text" name="mo7fza" class="form-control" id="mo7fza" list="datalist1">'
	
	cell5 = newRow.insertCell(3);
    cell5.innerHTML = data.adress;
	
	cell6 = newRow.insertCell(4);
    cell6.innerHTML = data.mokdm;
	cell7 = newRow.insertCell(5);
    cell7.innerHTML = data.onotes;
	cell8 = newRow.insertCell(6);
    cell8.innerHTML = data.wzn;
	cell10 = newRow.insertCell(7);
    cell10.innerHTML = data.date;
	cell11 = newRow.insertCell(8);
    cell11.innerHTML = data.date2;
	cell12 = newRow.insertCell(9);
    cell12.innerHTML = data.shan;
    cell12 = newRow.insertCell(10);
    cell12.innerHTML = `<a onClick="onEdit(this)"><i class ="fas fa-edit btnedit"></i></a>
                       <a onClick="onDelete(this)"><i class ="fas fa-trash-alt btndelete"></i></a>`;
	
	

	
}
function resetForm() {
    document.getElementById("fullName").value = "";
    document.getElementById("Pnumber").value = "";
    document.getElementById("mo7fza").value = "";
    
	 document.getElementById("adress").value = "";
	 document.getElementById("onotes").value = "";
	document.getElementById("wzn").value = "";
	 document.getElementById("shan").value = "";
	document.getElementById("mokdm").value = "";
	 document.getElementById("date").value = "";
	document.getElementById("date2").value = "";
	//document.getElementById("adress2").value = "";
    selectedRow = null;
}

function getData(){
	document.getElementById("add").style.display = "block";
	
	console.log('here');
	var title = document.getElementById('adress2').value;
	var ar = [];
	var f = true;
	for(i = 0;i<locationindex ; i++){
		if(title ==titles[i]){
			ar[0] = locinfo[i];
			f = false;
		}
			
	}
	if(f)
		return;
	
	console.log(ar[0]);
	
	var city ='';
	var mo7afza ='';
  var table = document.getElementById("employeeList");
    for (var i = 1; i < table.rows.length ;i++) {
		console.log(Qata[i-1]);
        var z = table.rows[i].cells[2].childNodes[0].value;
		var x =table.rows[i].cells[2].innerHTML;
		if(z ==undefined){
			 city = getmanteka(x);
			 mo7afza = getmo7fza(x);
		}	
		
		else{
			 city = getmanteka(z);
			 mo7afza = getmo7fza(z);
			table.rows[i].cells[2].innerHTML =z;
			Qata[i-1].date =  Qata[i-1].date[6]+Qata[i-1].date[7]+Qata[i-1].date[8]+Qata[i-1].date[9]+'-'+Qata[i-1].date[3]+Qata[i-1].date[4]+'-'+ Qata[i-1].date[0]+Qata[i-1].date[1];
			
			Qata[i-1].date2 =  Qata[i-1].date2[6]+Qata[i-1].date2[7]+Qata[i-1].date2[8]+Qata[i-1].date2[9]+'-'+Qata[i-1].date2[3]+Qata[i-1].date2[4]+'-'+ Qata[i-1].date2[0]+Qata[i-1].date2[1];
			
		}
		
		console.log(Qata[i-1]);	
        //console.log(z  ,Qata[i-1].mokdm ,Qata[i-1].wzn);
		 var ccc= parseInt(calculateMony(ar[0].state,city,Qata[i-1].wzn ,Qata[i-1].mokdm));
		Qata[i-1].shan = ccc;
		Qata[i-1].mantka = city;
		Qata[i-1].mo7fza =mo7afza;
		console.log(Qata[i-1]);	
		 
		 table.rows[i].cells[9].innerHTML = ccc;
		
	
    }
	
}

function onEdit(td) {
	//getData();	
	
    selectedRow = td.parentElement.parentElement;
	console.log(selectedRow.rowIndex);
	var mo7fzaa = selectedRow.cells[2].innerHTML + '/'+selectedRow.cells[3].innerHTML;
    document.getElementById("fullName").value = selectedRow.cells[0].innerHTML;
    document.getElementById("Pnumber").value = selectedRow.cells[1].innerHTML;
	 var table = document.getElementById("employeeList");
	var z = table.rows[selectedRow.rowIndex].cells[2].innerHTML;
	console.log(z);
	var x = table.rows[selectedRow.rowIndex].cells[2].childNodes[0].value;
	console.log(x);
	if(x==undefined)
    document.getElementById("mo7fza").value =z;
	else
	 document.getElementById("mo7fza").value =x;
    
	document.getElementById("adress").value = selectedRow.cells[3].innerHTML;
	document.getElementById("mokdm").value = selectedRow.cells[4].innerHTML;
	document.getElementById("onotes").value = selectedRow.cells[5].innerHTML;
	
	document.getElementById("shan").value = selectedRow.cells[9].innerHTML;
	document.getElementById("date").value = selectedRow.cells[7].innerHTML;
	document.getElementById("date2").value = selectedRow.cells[8].innerHTML;
	document.getElementById("wzn").value = selectedRow.cells[6].innerHTML;
	
}

function updateRecord(formData) {
    selectedRow.cells[0].innerHTML = formData.fullName;
    selectedRow.cells[1].innerHTML = formData.Pnumber;
    selectedRow.cells[2].innerHTML = formData.mo7fza;
	
    
	selectedRow.cells[3].innerHTML = formData.adress;
	selectedRow.cells[4].innerHTML = formData.mokdm;
	selectedRow.cells[5].innerHTML = formData.onotes;
	
	selectedRow.cells[6].innerHTML = formData.wzn;	
	selectedRow.cells[7].innerHTML = formData.date;
	selectedRow.cells[8].innerHTML = formData.date2;
	
	
	selectedRow.cells[9].innerHTML = test(formData.mantka,formData.adress2,formData.wzn,formData.mokdm );
	
	Qata[selectedRow.rowIndex-1]=formData;
	console.log(Qata);
}


function onDelete(td){
    if (confirm('هل انت متأكد انك تريد مسح ؟ ')) {
        row = td.parentElement.parentElement;
        document.getElementById("employeeList").deleteRow(row.rowIndex);
		
        resetForm();
		 Qata.splice(row.rowIndex-1, 1).concat(Qata.slice(row.rowIndex-1, Qata.length));
		console.log(Qata);
		indexQ-=1;
		document.getElementById('counter').innerHTML = indexQ;

    }
}


function validate(){
    isValid = true;
    if (document.getElementById("fullName").value == "") {
        isValid = false;
        document.getElementById("fullNameValidationError").classList.remove("hide");
    } else {
        isValid = true;
        if (!document.getElementById("fullNameValidationError").classList.contains("hide"))
            document.getElementById("fullNameValidationError").classList.add("hide");
		
    }
	return isValid;
}

function validate2(){
	var ph=document.getElementById("Pnumber").value;
	var phn= ph.length;
	isValid = true;
	if (document.getElementById("Pnumber").value == "" || ph[0] !='0' || ph[1]!='1' || phn!=11) {
        isValid = false;
        document.getElementById("PnumberValidationError").classList.remove("hide");
    } else {
        isValid = true;
        if (!document.getElementById("PnumberValidationError").classList.contains("hide"))
            document.getElementById("PnumberValidationError").classList.add("hide");
		
    }
	return isValid;
}

function validate3(){
	isValid = true;
	if (document.getElementById("mo7fza").value == "") {
        isValid = false;
        document.getElementById("mo7fzaValidationError").classList.remove("hide");
    } else {
        isValid = true;
        if (!document.getElementById("mo7fzaValidationError").classList.contains("hide"))
            document.getElementById("mo7fzaValidationError").classList.add("hide");
    }
	return isValid;
}



function validate5(){
	
	isValid = true;
	if (document.getElementById("adress").value == "") {
        isValid = false;
        document.getElementById("adressValidationError").classList.remove("hide");
    } else {
        isValid = true;
        if (!document.getElementById("adressValidationError").classList.contains("hide"))
            document.getElementById("adressValidationError").classList.add("hide");
    }
	return isValid;
}

function validate6(){
	isValid = true;
	if (document.getElementById("onotes").value == "") {
        isValid = false;
        document.getElementById("onotesValidationError").classList.remove("hide");
    } else {
        isValid = true;
        if (!document.getElementById("onotesValidationError").classList.contains("hide"))
            document.getElementById("onotesValidationError").classList.add("hide");
    }
	return isValid;
}

function validate7(){
	isValid = true;
	if (document.getElementById("wzn").value == "") {
        isValid = false;
        document.getElementById("wznValidationError").classList.remove("hide");
    } else {
        isValid = true;
        if (!document.getElementById("wznValidationError").classList.contains("hide"))
            document.getElementById("wznValidationError").classList.add("hide");
    }
	return isValid;
}



function validate9(){
	isValid = true;
	if (document.getElementById("mokdm").value == "") {
        isValid = false;
        document.getElementById("mokdmValidationError").classList.remove("hide");
    } else {
        isValid = true;
        if (!document.getElementById("mokdmValidationError").classList.contains("hide"))
            document.getElementById("mokdmValidationError").classList.add("hide");
    }
	return isValid;
}

function validate10(){
	isValid = false;
	var da=document.getElementById("date").value;
				var today1 = new Date();
				var today2 = new Date();
				var today3 = new Date();
				var today4 = new Date();
				var today5 = new Date();
				var today6 = new Date();
				var today7 = new Date();
				var today = new Date();
				
				var today11 = new Date();
				var today21 = new Date();
				var today31 = new Date();
				var today41 = new Date();
				var today51 = new Date();
				var today61 = new Date();
				var today71 = new Date();
				var today001= new Date();
				
	var mm = String(today.getMonth()+ 1).padStart(2,'0');//January is 0!	
	var yyyy = today.getFullYear();
	var days = daysInMonth(mm ,yyyy);	
	console.log(days);			
				
	var dd = String(today.getDate()).padStart(2,'0');
	today001 =mm+'-'+dd+'-'+yyyy;	
	var dd1 = String(today.getDate()+1).padStart(2,'0');
	 var r = true;			
	if(dd1>days){
		r = false;
		dd1 = dd1-days;
		var z = '0';
		z+=dd1;
		dd1 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today11 =dd1+'-'+m3+'-'+yyyy;
	}
	if(r)
		today11 =dd1+'-'+mm+'-'+yyyy;		
				
				
	var dd2 = String(today.getDate()+2).padStart(2,'0');
	var b = true; 
	if(dd2>days){
		b = false;
		dd2 = dd2-days;
		var z = '0';
		z+=dd2;
		dd2=z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today21 =dd2+'-'+m3+'-'+yyyy;
	}
	if(b)
		today21 =dd2+'-'+mm+'-'+yyyy;
				
				
	var dd3 = String(today.getDate()+3).padStart(2,'0');
	var x = true;			
	if(dd3>days){
		x = false;
		dd3 = dd3-days;
		var z = '0';
		z+=dd3;
		dd3 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today31 =dd3+'-'+m3+'-'+yyyy;
	}
	if(x)
		today31 =dd3+'-'+mm+'-'+yyyy;
				
				
	var dd4 = String(today.getDate()+4).padStart(2,'0');
	var a = true;			
	if(dd4>days){
		a = false;
		dd4 = dd4-days;
		var z = '0';
		z+=dd4;
		dd4 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today41 =dd4+'-'+m3+'-'+yyyy;
	}
	if(a)
		today41 =dd4+'-'+mm+'-'+yyyy;
				
				
				
	var dd5 = String(today.getDate()+5).padStart(2,'0');
	var o = true;			
	if(dd5>days){
		o = false;
		dd5 = dd5-days;
		var z = '0';
		z+=dd5;
		dd5 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today51 =dd5+'-'+m3+'-'+yyyy;
	}
	if(o)
		today51 =dd5+'-'+mm+'-'+yyyy;
				
				
	var dd6 = String(today.getDate()+6).padStart(2,'0');
	var am =true; 			
	if(dd6>days){
		am = false;
		dd6 = dd6-days;
		var z = '0';
		z+=dd6;
		dd6 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today61 =dd6+'-'+m3+'-'+yyyy;
	}
	if(am)
		today61 =dd6+'-'+mm+'-'+yyyy;
				
				
	var dd7 = String(today.getDate()+7).padStart(2,'0');
	var cc = true;
	if(dd7>days){
		cc=false;
		dd7 = dd7-days;
		var z = '0';
		z+=dd7;
		dd7 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today71 =dd7+'-'+m3+'-'+yyyy;
		console.log(today71);
	}
	if(cc)
		today71 =dd7+'-'+mm+'-'+yyyy;	
				

				
				
				
	var d = String(today.getDate()).padStart(2 , '0');
	var m1 = String(today.getMonth() + 1).padStart(2 ,'0');
				
				
	var d1 = String(today.getDate()+1).padStart(2 ,'0');
	var s = true;
	if(d1>days){
		s = false;
		d1 = d1-days;
		var z = '0';
		z+=d1;
		d1 =z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today1 =yyyy+'-'+m2+'-'+d1;
		console.log('111');
	}
	if(s)
		today1 =yyyy+'-'+m1+'-'+d1;;
	
	
	var d2 = String(today.getDate()+2).padStart(2,'0');
	var u = true;
	console.log(d2 + "   " + days);
	if(d2>days){
		u = false;
		d2 = d2-days;
		var z = '0';
		z+=d2;
		d2 =z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today2 =yyyy+'-'+m2+'-'+d2;
	}
	if(u){
		today2 =yyyy+'-'+m1+'-'+d2;;
	}
		
				
				
	var d3 = String(today.getDate()+3).padStart(2 ,'0');
	var q = true;
	if(d3>days){
		q = false;
		d3 = d3-days;
		var z = '0';
		z+=d3;
		d3 =z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today3 =yyyy+'-'+m2+'-'+d3;
		console.log('222');
	}
	if(q)
		today3 =yyyy+'-'+m1+'-'+d2;;
				
				
	var d4 = String(today.getDate()+4).padStart(2 ,'0');
	var k = true;
	if(d4>days){
		k = false;
		d4 = d4-days;
		var z = '0';
		z+=d4;
		d4=z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today4 =yyyy+'-'+m2+'-'+d4;
	}
	if(k)
		today4 =yyyy+'-'+m1+'-'+d4;
				
	var d5 = String(today.getDate()+5).padStart(2 ,'0');
	var l = true;
	if(d5>days){
		l = false;
		d5 = d5-days;
		var z = '0';
		z+=d5;
		d5=z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today5 =yyyy+'-'+m2+'-'+d5;
		
	}	
	if(l)
		today5 =yyyy+'-'+m1+'-'+d5;
				
				
	var d6 = String(today.getDate()+6).padStart(2,'0');
	var h = true;
	if(d6>days){
		h = false;
		d6 = d6-days;
		var z = '0';
		z+=d6;
		d6=z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today6 =yyyy+'-'+m2+'-'+d6;
		console.log(today6);
	}
	if(h)
		today6 =yyyy+'-'+m1+'-'+d6;
				
	var d7 = String(today.getDate()+7).padStart(1);
	var f = true;			
	if(d7>days){
		f = false;
		d7 = d7-days;
		var z = '0';
		z+=d7;
		d7=z;
		var m2 = String(today.getMonth() + 2).padStart(1);
		today7 =yyyy+'-'+m2+'-'+d7;
		console.log(today7);
	}	
	if(f)
		today7 =yyyy+'-'+m1+'-'+d7;			
				
				
				today =yyyy+'-'+m1+'-'+d;

				
				//return;
			
				
				if (da== today)
				{
					da =today001;
					isValid=true;
				}
				if (da == today1)
				{
					da = today11;
					isValid=true;
				}
				if (da == today2)
				{
					da = today21;
					isValid=true;
				}
				
				console.log(isValid);
				console.log(da);
	
if (isValid == false){
        document.getElementById("dateValidationError").classList.remove("hide");
    } else {
        
        if (!document.getElementById("dateValidationError").classList.contains("hide"))
            document.getElementById("dateValidationError").classList.add("hide");
    }
	
	
	
	return isValid;
}
function validate11(){
isValid = false;
	var da=document.getElementById("date2").value;
				var today1 = new Date();
				var today2 = new Date();
				var today3 = new Date();
				var today4 = new Date();
				var today5 = new Date();
				var today6 = new Date();
				var today7 = new Date();
				var today = new Date();
				
				var today11 = new Date();
				var today21 = new Date();
				var today31 = new Date();
				var today41 = new Date();
				var today51 = new Date();
				var today61 = new Date();
				var today71 = new Date();
				var today001= new Date();
				
	var mm = String(today.getMonth()+ 1).padStart(2,'0');//January is 0!	
	var yyyy = today.getFullYear();
	var days = daysInMonth(mm ,yyyy);	
	console.log(days);			
				
	var dd = String(today.getDate()).padStart(2,'0');
	today001 =mm+'-'+dd+'-'+yyyy;	
	var dd1 = String(today.getDate()+1).padStart(2,'0');
	 var r = true;			
	if(dd1>days){
		r = false;
		dd1 = dd1-days;
		var z = '0';
		z+=dd1;
		dd1 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today11 =dd1+'-'+m3+'-'+yyyy;
	}
	if(r)
		today11 =dd1+'-'+mm+'-'+yyyy;		
				
				
	var dd2 = String(today.getDate()+2).padStart(2,'0');
	var b = true; 
	if(dd2>days){
		b = false;
		dd2 = dd2-days;
		var z = '0';
		z+=dd2;
		dd2=z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today21 =dd2+'-'+m3+'-'+yyyy;
	}
	if(b)
		today21 =dd2+'-'+mm+'-'+yyyy;
				
				
	var dd3 = String(today.getDate()+3).padStart(2,'0');
	var x = true;			
	if(dd3>days){
		x = false;
		dd3 = dd3-days;
		var z = '0';
		z+=dd3;
		dd3 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today31 =dd3+'-'+m3+'-'+yyyy;
	}
	if(x)
		today31 =dd3+'-'+mm+'-'+yyyy;
				
				
	var dd4 = String(today.getDate()+4).padStart(2,'0');
	var a = true;			
	if(dd4>days){
		a = false;
		dd4 = dd4-days;
		var z = '0';
		z+=dd4;
		dd4 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today41 =dd4+'-'+m3+'-'+yyyy;
	}
	if(a)
		today41 =dd4+'-'+mm+'-'+yyyy;
				
				
				
	var dd5 = String(today.getDate()+5).padStart(2,'0');
	var o = true;			
	if(dd5>days){
		o = false;
		dd5 = dd5-days;
		var z = '0';
		z+=dd5;
		dd5 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today51 =dd5+'-'+m3+'-'+yyyy;
	}
	if(o)
		today51 =dd5+'-'+mm+'-'+yyyy;
				
				
	var dd6 = String(today.getDate()+6).padStart(2,'0');
	var am =true; 			
	if(dd6>days){
		am = false;
		dd6 = dd6-days;
		var z = '0';
		z+=dd6;
		dd6 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today61 =dd6+'-'+m3+'-'+yyyy;
	}
	if(am)
		today61 =dd6+'-'+mm+'-'+yyyy;
				
				
	var dd7 = String(today.getDate()+7).padStart(2,'0');
	var cc = true;
	if(dd7>days){
		cc=false;
		dd7 = dd7-days;
		var z = '0';
		z+=dd7;
		dd7 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today71 =dd7+'-'+m3+'-'+yyyy;
		console.log(today71);
	}
	if(cc)
		today71 =dd7+'-'+mm+'-'+yyyy;	
				

				
				
				
	var d = String(today.getDate()).padStart(2 , '0');
	var m1 = String(today.getMonth() + 1).padStart(2 ,'0');
				
				
	var d1 = String(today.getDate()+1).padStart(2 ,'0');
	var s = true;
	if(d1>days){
		s = false;
		d1 = d1-days;
		var z = '0';
		z+=d1;
		d1 =z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today1 =yyyy+'-'+m2+'-'+d1;
		console.log('111');
	}
	if(s)
		today1 =yyyy+'-'+m1+'-'+d1;;
	
	
	var d2 = String(today.getDate()+2).padStart(2,'0');
	var u = true;
	console.log(d2 + "   " + days);
	if(d2>days){
		u = false;
		d2 = d2-days;
		var z = '0';
		z+=d2;
		d2 =z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today2 =yyyy+'-'+m2+'-'+d2;
	}
	if(u){
		today2 =yyyy+'-'+m1+'-'+d2;;
	}
		
				
				
	var d3 = String(today.getDate()+3).padStart(2 ,'0');
	var q = true;
	if(d3>days){
		q = false;
		d3 = d3-days;
		var z = '0';
		z+=d3;
		d3 =z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today3 =yyyy+'-'+m2+'-'+d3;
		console.log('222');
	}
	if(q)
		today3 =yyyy+'-'+m1+'-'+d2;;
				
				
	var d4 = String(today.getDate()+4).padStart(2 ,'0');
	var k = true;
	if(d4>days){
		k = false;
		d4 = d4-days;
		var z = '0';
		z+=d4;
		d4=z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today4 =yyyy+'-'+m2+'-'+d4;
	}
	if(k)
		today4 =yyyy+'-'+m1+'-'+d4;
				
	var d5 = String(today.getDate()+5).padStart(2 ,'0');
	var l = true;
	if(d5>days){
		l = false;
		d5 = d5-days;
		var z = '0';
		z+=d5;
		d5=z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today5 =yyyy+'-'+m2+'-'+d5;
		
	}	
	if(l)
		today5 =yyyy+'-'+m1+'-'+d5;
				
				
	var d6 = String(today.getDate()+6).padStart(2,'0');
	var h = true;
	if(d6>days){
		h = false;
		d6 = d6-days;
		var z = '0';
		z+=d6;
		d6=z;
		var m2 = String(today.getMonth() + 2).padStart(2 ,'0');
		today6 =yyyy+'-'+m2+'-'+d6;
		console.log(today6);
	}
	if(h)
		today6 =yyyy+'-'+m1+'-'+d6;
				
	var d7 = String(today.getDate()+7).padStart(1);
	var f = true;			
	if(d7>days){
		f = false;
		d7 = d7-days;
		var z = '0';
		z+=d7;
		d7=z;
		var m2 = String(today.getMonth() + 2).padStart(1);
		today7 =yyyy+'-'+m2+'-'+d7;
		console.log(today7);
	}	
	if(f)
		today7 =yyyy+'-'+m1+'-'+d7;			
				
				
				today =yyyy+'-'+m1+'-'+d;

				
				//return;
			
				
				if ( da== today)
				{
					da =today001;
					isValid=true;
				}
	
				if (da == today1)
				{
					da = today11;
					isValid=true;
				}
	
				if (da == today2)
				{
					da = today21;
					isValid=true;
				}
				
				if (da == today3)
				{
					da = today31;
					isValid=true;
				}
				if (da == today4)
				{
					da = today41;
					isValid=true;
				}
				if (da == today5)
				{
					da = today51;
					isValid=true;
				}
				if (da == today6)
				{
					da = today61;
					isValid=true;
				}
				if (da == today7)
				{
					da = today71;
					isValid=true;
				}
	
				console.log(isValid);
				console.log(da);
	
	if (isValid == false){
		console.log("doesnt hide");
        document.getElementById("date2ValidationError").classList.remove("hide");
    } else {
        console.log("already  hide");
        if (!document.getElementById("date2ValidationError").classList.contains("hide"))
            document.getElementById("date2ValidationError").classList.add("hide");
    }
	
	
	return isValid;
}



function calculateMony(cityfrom,cityto,waight,monyfirst){
	console.log(cityfrom);
	console.log(cityto);
	console.log('import');
	var zonefrom = getzone(cityfrom);
	var zoneto = getzone(cityto);
	if(zonefrom==0||zoneto==0)
		return 0;
	
	var money =getMony(zonefrom ,zoneto);
	waight = waight-5;
	var waightmoney =0;
	addmoney = monyfirst*0.01;
	if(waight>0){
		waightmoney=5*waight; 	
	}
	console.log(money);
	console.log(waightmoney);
	console.log(addmoney);
	return  money+waightmoney+addmoney;
	
}
function getMony(from ,to){
	var one =[40 ,50,60 ,65,75,80,100];
	var two = [50,40,60,65,75,80,100];
	var three = [60,60,40,65,75,80,100];
	var four = [65,65,65,40,75,80,100];
	var five = [75,75,75,75,50,80,100];
	var six = [80,80,80,80,80,50,100];
	var seven =[100,100,100,100,100,50,80];
	var money = 0;
	switch(from){
		case 1 :
			 money = one[to-1];
                break;
		case 2 :
			 money = two[to-1];
                break;
		case 3 :
			 money = three[to-1];
                break;
		case 4 :
			 money = four[to-1];
        		break;				   
	
		case 5 :
			 money = five[to-1];
                break;				   
		case 6 :
			 money = six[to-1];
                break;
		case 7 :
			 money = seven[to-1];
                break;
						   }
	
	return money;
	
}
function getzone(city){
	var f = false;
	for(i = 0;i<zone1.length;i++){
		if(zone1[i]==city)
			f = true;
	}
	
	
	if(f){
		console.log(1);
		return 1;
	}
	var f = false;
	for(i = 0;i<zone2.length;i++){
		if(zone2[i]==city)
			f = true;
	}
	
	if(f){
		console.log(2);
		return 2;
	}
	var f = false;
	for(i = 0;i<zone3.length;i++){
		if(zone3[i]==city)
			f = true;
	}
	
	if(f){
		console.log(3);
		return 3;
	}
	
	var f = false;
	for(i = 0;i<zone4.length;i++){
		if(zone4[i]==city)
			f = true;
	}
	
	if(f){
		console.log(4);
		return 4;
	}
	
	var f = false;
	for(i = 0;i<zone5.length;i++){
		if(zone5[i]==city)
			f = true;
	}
	
	
	if(f){
		console.log(5);
		return 5;
	}
	
	var f = false;
	for(i = 0;i<zone6.length;i++){
		if(zone6[i]==city)
			f = true;
	}
	
	
	if(f){
		console.log(6);
		return 6;
	}
	
	var f = false;
	for(i = 0;i<zone7.length;i++){
		if(zone7[i]==city)
			f = true;
	}
	
	if(f){
		console.log(7);
		return 7;
	}
	
}





 /// loction
firebase.auth().onAuthStateChanged( function(user) {
  if (user) {
    // User logged in already or has just logged in.
    
	  
	  
	  
	var id = user.uid;
	  
	  
	  
	  
	  
	  var ref = firebase.database().ref().child('Pickly').child('users').child(id).child('locations');
ref.on('value', gotdata , errdata);
	  
function gotdata(data){
	//console.log(data.val())
	var title = data.val();
	var keys = Object.keys(title);
	
	
for(var i = 0 ; i < keys.length; i++){
	var k = keys[i];
	var titlee = title[k].title;
	arr[i] = titlee;	
} 

	
	  var ref = firebase.database().ref().child('Pickly').child('users').child(id).child('locations');
ref.on('value', gotdata , errdata);
	  
function gotdata(data){
	//console.log(data.val())
	var title = data.val();
	var keys = Object.keys(title);
	
for(var i = 0 ; i < keys.length; i++){
	var k = keys[i];
	var titlee = title[k].title;
	arr[i] = titlee;
	//console.log(titlee);
	titles[titlesindex] = titlee;
	
	titlesindex++;
	
	locations[locationindex] = k;
	
	locationindex++;
	
	
	}
	
	
	
	var val
	var ref = firebase.database().ref().child('Pickly').child('users').child(id).child('locations');
	
	ref.once("value", function(snapshot) {
		
  		snapshot.forEach(function(child) {
		
		locinfo[locinfoindex] = child.val();
		console.log(locinfo[locinfoindex]);
		locinfoindex++;	
		
			
  
  			});
		});
	
	
}
	

	
	
	var select = document.getElementById("adress2");
	
	
	
	
	
	 


		for (var i=0 ; i<arr.length; i++){
			if(i==0){
				document.getElementById('addresid').innerHTML = locinfo[i].address;
			}
			var option = document.createElement("OPTION"),
			txt = document.createTextNode(arr[i]);
			option.appendChild(txt);
			select.insertBefore(option,select.lastChild);
			
		}
}

function errdata(data){
	console.log('erorr');
}
  } else {
    // User not logged in or has just logged out.
  }
});




   $('#input-excel').change(function(e){
	   
                var reader = new FileReader();
                reader.readAsArrayBuffer(e.target.files[0]);

                reader.onload = function(e) {
					
                        var data = new Uint8Array(reader.result);
                        var wb = XLSX.read(data,{type:'array'});

                        var htmlstr = XLSX.write(wb,{type:'string',bookType:'html'});

                        //$('#employeeList')[0].innerHTML+=htmlstr;
                        //console.log(htmlstr);
                        //console.log(htmlstr[83] + htmlstr[84]);
                        var table ='';
                        var rrows ={};
                        var f = false;
						var indexload =0;
                        for(i =0;i<htmlstr.length;i++){
                           // console.log("here");
                            if(!f&&htmlstr[i]=='<'&&htmlstr[i+1]=='t'&&htmlstr[i+2]=='a'&&htmlstr[i+3]=='b'&&htmlstr[i+4]=='l'&&htmlstr[i+5]=='e'&&htmlstr[i+6]=='>'){
                                f=true;
                            }
                            

                            if(htmlstr[i]=='<'&&htmlstr[i+1]=='/'&&htmlstr[i+2]=='t'&&htmlstr[i+3]=='a'&&htmlstr[i+4]=='b'&&htmlstr[i+5]=='l'&&htmlstr[i+6]=='e'&&htmlstr[i+7]=='>'){
                                table += '</table>'
                                break;
                            }

                            if(f){

                                table+=htmlstr[i];
                            }

                        }

                         for(i =7;i<table.length;i++){
                            //console.log("here");
                            if(table[i]='<'&&table[i+1]=='/'&&table[i+2]=='t'&&table[i+3]=='r'&&table[i+4]=='>'){
                                rrows[indexload]+='</tr>';
                                //console.log(rows[index]);
                                i+=5;
                                indexload++;

                            }
                            rrows[indexload]+=table[i];

                         }
                         splitRow(rrows , indexload);


            //console.log(words);
           
                    rrows = {};
                    indexload = 0;
                    table ='';
                    f = false;

                }

        });
         function splitRow(rowsss , indexsplit){
           //console.log(rowsss.length);
            var f = false;
            var words = {};
            var count = 0;
            for(i =0;i<indexsplit;i++){
              // console.log("here");
                for(j =16;j<rowsss[i].length;j++){
                    //console.log("here");
                    if(rowsss[i][j]=='>'){
                        f = true;
                        continue;
                    }
                    
                    if(rowsss[i][j]=='<'){
                        f = false;
                    }
                    if(f){
                        words[count]+=rowsss[i][j];
                        if(rowsss[i][j+1]=='<'){
                            j+=5;
                            words[count]+= '*';
                            f = false;
                        }

                    }
                    
                }
                f = false;
                count++;
                
            }
            rowsss ={};
            indexsplit =0;
            
            for(i=1;i<count;i++){
                if(words[i]==undefined)
					continue;
                words[i] = words[i].substring(9);
            }

            for(var i =1;i<count;i++){
				if(words[i]==undefined)
					continue;
				finalsplit(words[i] ,count);
			}
                
            
                  

         }

         function finalsplit(words ,count){
            var reew = {};
            var indexfinal= 0;
            //console.log(words);
                for(j =0;j<words.length;j++){
                    //console.log("here");
                    if(words[j]=='*'){
                        indexfinal++;
                         //console.log(raw[index]);
                        continue;
                    }

                    reew[indexfinal]+=words[j];
                   

                }
                //console.log(raw);
                for(var i =0;i<indexfinal;i++){
                    //console.log("here");
                reew[i] = reew[i].substring(9);
                
                 //console.log(raw[i]);
                    }
              
                console.log('vali');
                validation(reew ,indexfinal);
                
            }



	function daysInMonth (month, year) {
    
		return new Date(year, month, 0).getDate();
	
	}

            function validation(row , indexvali){
				
				
				
				
				//console.log(days);
				console.log('jefewf');
				
                if(indexvali!=8){
                    console.log(row);
                    
                }
				
				if(row[0].length<=0){
					row[0] ='';
				}
					
				if(row[1].length!=10||!parseInt(row[1])){
					row[1] ='';
				}
					//return;
				
                if(row[1][0]!='1'){
                     row[1] ='';
                }
				
				
				
				
				/*var pornplayer = row[2]+'/'+row[3];
				var f =false;
				//console.log(pornplayer);
				
				
				for(i = 0;i<gov.length	;i++){
					
					if(pornplayer==gov[i]){
						console.log(gov[i]+"    " + pornplayer);
						f = true;
					}
						
				}
				if(!f){
					console.log("المنطقه او المحافظه");
					return;
				}
				*/
				
				
				
				
				/*
				var ff = false;
				console.log(row[11]);
				for(i = 0;i<titlesindex;i++){
					console.log(arr[i]);
					if(arr[i]==row[11]){
						ff = true;
					}	
				}
				
				if(!ff){
					console.log("العنوان");
					return;
				}*/
					
				//console.log(row[6]+ "   "+row[7]+row[6]+ " "+row[8])
				//console.log(parseInt(row[6]));
				
				if(!parseInt(row[5])||row[5]>=10){
					row[5] ='';
				}
				if(!parseInt(row[3])){
					console.log("الارقام");
					row[3] ='';
				}
				//console.log(row[4] ,row[5]);
				
				var today1 = new Date();
				var today2 = new Date();
				var today3 = new Date();
				var today4 = new Date();
				var today5 = new Date();
				var today6 = new Date();
				var today7 = new Date();
				var today = new Date();
				
				var today11 = new Date();
				var today21 = new Date();
				var today31 = new Date();
				var today41 = new Date();
				var today51 = new Date();
				var today61 = new Date();
				var today71 = new Date();
				var today001= new Date();
				
	var mm = String(today.getMonth()+ 1).padStart(2,'0');//January is 0!	
	var yyyy = today.getFullYear();
	var days = daysInMonth(mm ,yyyy);	
	console.log(days);			
				
	var dd = String(today.getDate()).padStart(2,'0');
	today001 =dd+'-'+mm+'-'+yyyy;	
	var dd1 = String(today.getDate()+1).padStart(2,'0');
	 var r = true;			
	if(dd1>days){
		r = false;
		dd1 = dd1-days;
		var z = '0';
		z+=dd1;
		dd1 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today11 =dd1+'-'+m3+'-'+yyyy;
	}
	if(r)
		today11 =dd1+'-'+mm+'-'+yyyy;		
				
				
	var dd2 = String(today.getDate()+2).padStart(2,'0');
	var b = true; 
	if(dd2>days){
		b = false;
		dd2 = dd2-days;
		var z = '0';
		z+=dd2;
		dd2=z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today21 =dd2+'-'+m3+'-'+yyyy;
	}
	if(b)
		today21 =dd2+'-'+mm+'-'+yyyy;
				
				
	var dd3 = String(today.getDate()+3).padStart(2,'0');
	var x = true;			
	if(dd3>days){
		x = false;
		dd3 = dd3-days;
		var z = '0';
		z+=dd3;
		dd3 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today31 =dd3+'-'+m3+'-'+yyyy;
	}
	if(x)
		today31 =dd3+'-'+mm+'-'+yyyy;
				
				
	var dd4 = String(today.getDate()+4).padStart(2,'0');
	var a = true;			
	if(dd4>days){
		a = false;
		dd4 = dd4-days;
		var z = '0';
		z+=dd4;
		dd4 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today41 =dd4+'-'+m3+'-'+yyyy;
	}
	if(a)
		today41 =dd4+'-'+mm+'-'+yyyy;
				
				
				
	var dd5 = String(today.getDate()+5).padStart(2,'0');
	var o = true;			
	if(dd5>days){
		o = false;
		dd5 = dd5-days;
		var z = '0';
		z+=dd5;
		dd5 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today51 =dd5+'-'+m3+'-'+yyyy;
	}
	if(o)
		today51 =dd5+'-'+mm+'-'+yyyy;
				
				
	var dd6 = String(today.getDate()+6).padStart(2,'0');
	var am =true; 			
	if(dd6>days){
		am = false;
		dd6 = dd6-days;
		var z = '0';
		z+=dd6;
		dd6 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today61 =dd6+'-'+m3+'-'+yyyy;
	}
	if(am)
		today61 =dd6+'-'+mm+'-'+yyyy;
				
				
	var dd7 = String(today.getDate()+7).padStart(2,'0');
	var cc = true;
	if(dd7>days){
		cc=false;
		dd7 = dd7-days;
		var z = '0';
		z+=dd7;
		dd7 = z;
		var m3 = String(today.getMonth() + 2).padStart(2,'0');
		today71 =dd7+'-'+m3+'-'+yyyy;
		console.log(today71);
	}
	if(cc)
		today71 =dd7+'-'+mm+'-'+yyyy;	
				

				
				
				
	var d = String(today.getDate()).padStart(1);
	var m1 = String(today.getMonth() + 1).padStart(1);
				
				
	var d1 = String(today.getDate()+1).padStart(1);
	var s = true;
	if(d1>days){
		s = false;
		d1 = d1-days;
		var m2 = String(today.getMonth() + 2).padStart(1);
		today1 =m2+'/'+d1+'/'+yyyy;
		console.log('111');
	}
	if(s)
		today1 =m1+'/'+d1+'/'+yyyy;
	
	
	var d2 = String(today.getDate()+2).padStart(1);
	var u = true;
	console.log(d2 + "   " + days);
	if(d2>days){
		u = false;
		d2 = d2-days;
		var m2 = String(today.getMonth() + 2).padStart(1);
		today2 =(m2)+'/'+d2+'/'+yyyy;
		console.log('222');
	}
	if(u){
		today2 =m1+'/'+d2+'/'+yyyy;
		console.log('222/');
	}
		
				
				
	var d3 = String(today.getDate()+3).padStart(1);
	var q = true;
	if(d3>days){
		q = false;
		d3 = d3-days;
		var m2 = String(today.getMonth() + 2).padStart(1);
		today3 =(m2)+'/'+d3+'/'+yyyy;
		console.log('222');
	}
	if(q)
		today3 =m1+'/'+d3+'/'+yyyy;
				
				
	var d4 = String(today.getDate()+4).padStart(1);
	var k = true;
	if(d4>days){
		k = false;
		d4 = d4-days;
		var m2 = String(today.getMonth() + 2).padStart(1);
		today4 =(m2)+'/'+d4+'/'+yyyy;
	}
	if(k)
		today4 =m1+'/'+d4+'/'+yyyy;
				
	var d5 = String(today.getDate()+5).padStart(1);
	var l = true;
	if(d5>days){
		l = false;
		d5 = d5-days; 
		var m2 = String(today.getMonth() + 2).padStart(1);
		today5 =(m2)+'/'+d5+'/'+yyyy;
		
	}	
	if(l)
		today5 =m1+'/'+d5+'/'+yyyy;
				
				
	var d6 = String(today.getDate()+6).padStart(1);
	var h = true;
	if(d6>days){
		h = false;
		d6 = d6-days;
		var m2 = String(today.getMonth() + 2).padStart(1);
		today6 =(m2)+'/'+d6+'/'+yyyy;
		console.log(today6);
	}
	if(h)
		today6 =m1+'/'+d6+'/'+yyyy;
				
	var d7 = String(today.getDate()+7).padStart(1);
	var f = true;			
	if(d7>days){
		f = false;
		d7 = d7-days;
		var m2 = String(today.getMonth() + 2).padStart(1);
		today7 =(m2)+'/'+d7+'/'+yyyy;
		console.log(today7);
	}	
	if(f)
		today7 =m1+'/'+d7+'/'+yyyy;			
				
				
				today =m1+'/'+d+'/'+yyyy;

				var before = false;
				var after = false;
				row[6]+='20';
				row[7]+='20';
				console.log(+" "+today+" "+today1+" "+today2+" "+today3+" "+today4+" "+today5);
				
				//return;
				console.log(row[6]);
				console.log(row[7]);
				
				if (row[6] == today)
				{
					row[6] =today001;
					before=true;
				}
				if (row[6] == today1)
				{
					row[6] = today11;
					before=true;
				}
				if (row[6] == today2)
				{
					row[6] = today21;
					before=true;
				}
				console.log(before);
				
				
				if (row[7] == today)
				{
					console.log(row[7] ,today ,today001);
					row[7] =today001;
					after=true;
				}
				if (row[7] == today1)
				{
					console.log(row[7] ,today1 ,today11);
					row[7] =today11;
					after=true;
				}
				if (row[7] == today2)
				{
					console.log(row[7] ,today2 ,today21);
					row[7] =today21;
					after=true;
				}
				if (row[7] == today3)
				{
					console.log(row[7] ,today3 ,today31);
					row[7] =today31;
					after=true;	
				}
				if (row[7] == today4)
				{
					console.log(row[7] ,today4 ,today41);
					row[7] =today41;
					after=true;
				}
				if (row[7] == today5)
				{
					console.log(row[7] ,today5 ,today51);
					row[7] =today51;
					after=true;
				}
				if (row[7] == today6)
				{
					console.log(row[7] ,today6 ,today61);
					row[7] =today61;
					after=true;
				}
				if (row[7] == today7)
				{
					console.log(row[7] ,today7 ,today71);
					row[7] =today71;
					after=true;
				}
				
				if(!before){
					console.log(";sl;");
					row[6] ='';
				}
				if(!after){
					console.log(";sl;");
					row[7] =''; 
				}
				console.log(row[7] , row[6]);
				
				console.log('hahaha');
				if(row[1]!=''){
				var phone = '0'+row[1];
				row[1] = phone;
				}
				
				
				
				/*var found = false;
				var addressfrom =0; 
				
				console.log('ljqff');
				for(i = 0;i<locinfo.length;i++){
					if(locinfo[i]==row[11]){
						found = true;
						addressfrom = i;
					}
						
				}*/
				
				
				//row[8]='';//parseInt(calculateMony(locinfo[addressfrom].state,row[3],row[6],row[7]));
				
                addingtoRow(row);
				

            }


		
            
            function addingtoRow(row){
				console.log('what');
                var formData = {};
				
                 formData["fullName"] = row[0];
                 formData["Pnumber"] = row[1];
                 formData["mo7fza"] ="";
				 formData["mantka"] ="";
                 formData["adress"] =row[2];
                 formData["onotes"] = row[4];
                 formData["wzn"] = row[5];
                 formData["shan"] ="";
                 formData["mokdm"] = row[3];		 
                 formData["date"] = row[6];
				 formData["date2"] = row[7];
				 //formData["adress2"] = row[11];
				
				
                 insertNewRecord2(formData);
				
				Qata[indexQ] = formData;
				console.log(Qata[indexQ]);
				indexQ++;
				console.log(indexQ);
	document.getElementById('counter').innerHTML =indexQ;
			
				
				
		
			}
function getmo7fza(mo7afza){
	var value = '';
	for(i = 0;i<mo7afza.length;i++){
		
		if(mo7afza[i]=='/'){
			break;
		}
		value+=mo7afza[i]
		
		
	}
	
	
	
	return value;
}
function getmanteka(mo7fza){
	var value = '';
	var f = false;
	for(i = 0;i<mo7fza.length;i++){
		
		if(mo7fza[i]=='/'){
			f = true;
			continue;
		}
		if(f)
			value+=mo7fza[i]; 
	}
	console.log(value);
	return value;
	
}
function getValid(rows){
	var table = document.getElementById("employeeList");
	var ind =1; 
	var red = true;
	for (var i = 1; i < table.rows.length ;i++) {
		
        var name = table.rows[i].cells.item(0).innerHTML;
		console.log(name);
		var phone = table.rows[i].cells.item(1).innerHTML;
		console.log(phone);
		var adres = table.rows[i].cells[2].childNodes[0].value;
		console.log(adres);
		var mokdm = table.rows[i].cells.item(3).innerHTML;
		console.log(mokdm);
		var notes = table.rows[i].cells.item(4).innerHTML;
		console.log(notes);
		var wzn = table.rows[i].cells.item(5).innerHTML;
		console.log(wzn);
		var date1 = table.rows[i].cells.item(6).innerHTML;
		console.log(date1);
		var date2 = table.rows[i].cells.item(7).innerHTML;
		console.log(date2);
		var date3 = table.rows[i].cells.item(8).innerHTML;
		console.log(date3);
		if (name == ''){
			red=false;
			//console.log(name);
		}
		else if (phone == ''){
			red=false;
			console.log(phone);
			//ind = i;
			//break;
		}
		else if (adres == ''){
			red=false;
			console.log(adres);
			//console.log(red);
			//ind = i;
			//break;
		}
		else if (mokdm == ''){
			console.log(mokdm);
			//console.log(red);
			red=false;
			//ind = i;
			//break;
		}
		else if (notes == ''){
			red=false;
			console.log(notes);
			//ind = i;
			//break;
			//console.log(red);
		}
		else if (wzn == ''){
			red=false;
			console.log(wzn);
			//console.log(red);
			//ind = i;
			//break;
		}
		else if (date1 == ''){
			red=false;
			console.log(date1);
			//console.log(red);
			//ind = i;
			//break;
		}
		else if (date2 == ''){
			red=false;
			console.log(red);
			//console.log(date2);
			//ind = i;
			//break;
		}
		else if (date3 == ''){
			red=false;
			console.log(red);
			//console.log(date2);
			//ind = i;
			//break;
		}
		
		if(red==false){
		console.log("da5l al lopp");
		console.log(table.rows[i]);
		table.rows[i].style.border= "2px solid red";
		}
		
		if(red==true){
			ind++;
		console.log("da5l al lopp true");
		table.rows[i].style.borderBottom= "1px solid #dddddd";
		table.rows[i].style.borderRight= "1px solid #dddddd";
		table.rows[i].style.borderTop= "1px solid #dddddd";
		table.rows[i].style.borderLeft= "1px solid #dddddd";
		
		}
		
		red=true;
        console.log(red);
    }
	
	if(ind==table.rows.length){
		
		
		console.log('yeah babe');
		document.getElementById("btn2").disabled = false;
		document.getElementById("btn3").disabled = false;
		document.getElementById("btn1").disabled = true;
		document.getElementById("exl").className="fas fa-lock-open";
		document.getElementById("exll").className="fas fa-lock-open";
		document.getElementById("exlll").className="fas fa-lock";
		alert("تم اضافة اوردراتك");
	}

	
	
}
		

console.log(Qata[0]);
console.log(Qata[1]);
document.getElementById('add').onclick = function(){
	
	var uidd ;

 
firebase.auth().onAuthStateChanged( function(user) {
  if (user) {
    // User logged in already or has just logged in.
	 uidd=user.uid;
  } 
	else {
    // User not logged in or has just logged out.
  }
	
	indexQ =0;
	console.log(uidd);
	var ids = {};
	var idsindex = 0;
	//var ref = firebase.database().ref().child('Pickly').child('Web').push();
	//var urlRef = firebase.database.ref().child("Pickly").child("users").child(uidd).child("locations");
	/*ref=firebase.database().ref().child('Pickly').child('Web').child(kys[i]);
				console.log(ref);
				var address = String(locinfo[j][0]) ;
				var latitude = String(locinfo[j][2]);
				var longitude = String(locinfo[j][3]);
				var region = String(locinfo[j][4]);
				var state  =  String(locinfo[j][5]);
				
				console.log(locinfo[j]);
				ref.update({
					
				address :String(locinfo[j][0]),
				latitude:String(locinfo[j][2]),
				longitude:String(locinfo[j][3]),
				region:String(locinfo[j][4]),
				state :String(locinfo[j][5]),	
					
					
					
				});
				*/
	
	
	for( i = 0 ; i <Qata.length ; i++ ){
		
		
	 ref = firebase.database().ref().child('Pickly').child('orders').push();
	 kys[endoftheworld] = ref.key;	
	 console.log(kys[endoftheworld]);
	 endoftheworld++;	
		var index = 0;
	for(j = 0;j<titlesindex;j++){
			//console.log("second");
			if(Qata[i].adress2==titles[j]){
				index = j;
				
			}
		}	
		console.log(Qata[i]);
		var time =new Date();
		console.log(ref.key);
		var format=time.getFullYear()+'.'+String(time.getMonth()+1).padStart(2,'0')+'.'+String(time.getDate()).padStart(2,'0')+' '+ String(time.getHours()).padStart(2,'0')+':'+String(time.getMinutes()).padStart(2,'0')+':'+String(time.getSeconds()).padStart(2,'0'); 
		console.log(format);
		
	ref.set({
	    uId: uidd,
		id: ref.key,
		dname : Qata[i].fullName ,
		dphone : String(Qata[i].Pnumber) ,
		txtDState : Qata[i].mo7fza ,
		mDRegion : Qata[i].mantka,
		daddress :Qata[i].adress ,
		packType : Qata[i].onotes ,
		packWeight : String(Qata[i].wzn) ,
		gget : String(Qata[i].shan),
		gmoney : String(Qata[i].mokdm) ,
		pDate :Qata[i].date,
		ddate :Qata[i].date2,
		mPAddress :locinfo[index].address,
		lat:String(locinfo[index].lattude),
		_long:String(locinfo[index].lontude),
		mPRegion:locinfo[index].state,
		txtPState :locinfo[index].region,
		platform :'web', 
		date:format,
		mPShop : "",
		isTrans : "",
		isMetro : "",
		isMotor : "",
		isCar : "",
		statue : "placed",
		uAccepted : "",
		srated : "false",
		srateid : "",
		drated: "false",
		drateid :"",
		acceptedTime :"",
		dilverTime:"",
		notes:"",
		type:"Bid",
		lastedit:format
		
		
	});
		
	console.log(ref.key);
}
		
	
	
	
	console.log(locationindex);
	console.log(titlesindex);
	
	//Putlocation();
	
	indexQ=0;
	
	document.getElementById('counter').innerHTML = 0;
	var table = document.getElementById("employeeList");
	for(i =1 ;i<=table.rows.length;i++) {
  		table.deleteRow(1);
		//sQata.splice(i, 1).concat(Qata.slice(i, Qata.length));
		}
		document.getElementById("btn2").disabled = true;
		document.getElementById("btn3").disabled = true;
		document.getElementById("add").disabled = true;
		document.getElementById("btn1").disabled = true;
	
		document.getElementById("btn2").className = "fas fa-lock-open";
		document.getElementById("btn3").className ="fas fa-lock-open" ;
		document.getElementById("add").style.display ="none" ;
		document.getElementById("btn1").className="fas fa-lock-open";

}
								   
								   
								   )};

function getselectedaddress(){
	
}

window.onload = function() {
        var eSelect = document.getElementById('mm');
        //var optOtherReason = document.getElementById('otherdetail');
        eSelect.onchange = function() {
			var value = document.getElementById('adress2').value;
			//console.log(value);
			
			for(i = 0;i<locinfoindex;i++){
				if(locinfo[i].title==value){
					document.getElementById("addresid").innerHTML = locinfo[i].address;
					break;
				}
			}
			
			
        }
    }



function clearAll(){
	//inde
	
	console.log(indexQ);
	var table = document.getElementById("employeeList");
	for(i =1 ;i<=table.rows.length;i++) {
  		table.deleteRow(1);
		Qata.splice(i, 1).concat(Qata.slice(i, Qata.length));
		}
	Qata = [[]];
	indexQ = 0
	document.getElementById('counter').innerHTML = indexQ;
	console.log(Qata.length);
	console.log(Qata);
	

}